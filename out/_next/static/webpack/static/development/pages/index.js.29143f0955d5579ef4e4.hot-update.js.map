{"version":3,"file":"static/webpack/static/development/pages/index.js.29143f0955d5579ef4e4.hot-update.js","sources":["webpack:///./components/AddUser.js"],"sourcesContent":["import React from \"react\";\nimport FieldWithElement from \"./FieldWithElement\";\nimport \"../styles/pages/admin/coupons.scss\";\nimport axios from \"axios\";\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      colleges: [],\n      branches: [],\n      formValues: {\n        username: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        gender: \"\",\n        dial_code: \"+91\",\n        mobile_number: \"\",\n        gradYear: [\n          \"2000\",\n          \"2001\",\n          \"2002\",\n          \"2003\",\n          \"2004\",\n          \"2005\",\n          \"2006\",\n          \"2007\",\n          \"2008\",\n          \"2009\",\n          \"2010\",\n          \"2011\",\n          \"2012\",\n          \"2013\",\n          \"2014\",\n          \"2015\",\n          \"2016\",\n          \"2017\",\n          \"2018\",\n          \"2019\",\n          \"2020\",\n          \"2021\",\n          \"2022\",\n          \"2023\",\n          \"2024\",\n          \"2025\",\n          \"2026\"\n        ],\n        email: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\"http://localhost:2929/api/v2/admin/resources/demographics\", {\n        headers: {\n          \"dukaan-token\":\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImNsaWVudE5hbWUiOiJvbmxpbmVDYiIsIm9uZWF1dGhJZCI6MTQ1OSwicHJvZHVjdElkIjoxNTYsInF1YW50aXR5IjoxfSwiaWF0IjoxNTYwMjQwNzkwfQ.x6pSdQA2bQndnnMoxSgwn6GdKiPmm82E8AE2BPIPRRQ\"\n        }\n      })\n      .then(res => {\n        // console.log(res);\n        // let newFormValues = this.state.formValues;\n        // newFormValues.colleges = res.data.colleges;\n        // // newFormValues.collegeId = res.data.colleges.id;\n        // newFormValues.branches = res.data.branches;\n        this.setState({\n          colleges: res.data.colleges,\n          branches: res.data.branches\n        });\n      });\n  }\n\n  onChangeValue = e => {\n    let newFormValues = this.state.formValues;\n    newFormValues[e.target.name] = e.target.value;\n    this.setState({\n      formValues: newFormValues\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    const data = this.state.formValues;\n\n    var formBody = [];\n    for (var property in data) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(data[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n    formBody = formBody.join(\"&\");\n\n    const response = await axios.post(\n      \"http://localhost:2929/api/v2/admin/users\",\n      formBody,\n      {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n          \"dukaan-token\":\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImNsaWVudE5hbWUiOiJvbmxpbmVDYiIsIm9uZWF1dGhJZCI6MTQ1OSwicHJvZHVjdElkIjoxNTYsInF1YW50aXR5IjoxfSwiaWF0IjoxNTYwMjQwNzkwfQ.x6pSdQA2bQndnnMoxSgwn6GdKiPmm82E8AE2BPIPRRQ\"\n        }\n      }\n    );\n    console.log(response);\n    this.setState({\n      formValues: {}\n    });\n  };\n\n  render() {\n    return (\n      <div className={\"d-flex align-items-center col-md-8\"}>\n        <div className={\"border-card coupon-card \"}>\n          {/* Title */}\n          <div className={\"d-flex justify-content-center mt-1 pb-3\"}>\n            <h2 className={\"title red\"}>Create User</h2>\n          </div>\n\n          {/* username */}\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Username\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon user-bg\"}\n              placeholder=\"Username\"\n              name={\"username\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.username}\n            />\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Firstname\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon lines-bg\"}\n              placeholder=\"First Name\"\n              name={\"firstname\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.firstname}\n            />\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Lastname\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon lines-bg\"}\n              placeholder=\"Last Name\"\n              name={\"lastname\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.lastname}\n            />\n          </FieldWithElement>\n\n          {/* gender */}\n          <FieldWithElement\n            name={\"Gender\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"gender\"\n              name=\"gender\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.gender}\n            >\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n              <option value=\"undisclosed\" selected>\n                Undisclosed\n              </option>\n            </select>\n          </FieldWithElement>\n\n          {/* code */}\n          <FieldWithElement\n            name={\"Dial Code\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4 \"}\n          >\n            <select\n              id=\"dial_code\"\n              name=\"dial_code\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.dial_code}\n            >\n              <option value=\"\">Select Code</option>\n              <option value=\"+91\">+91</option>\n            </select>\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Mobile Number\"}>\n            <input\n              type=\"text\"\n              className={\"input-text\"}\n              placeholder=\"Mobile Number\"\n              name={\"mobile_number\"}\n              onChange={this.onChangeValue}\n              style={{ backgroundColor: \"#f6f6f6\" }}\n              value={this.state.formValues.mobile_number}\n            />\n          </FieldWithElement>\n\n          {/* Colleges */}\n          <FieldWithElement\n            name={\"College\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"college\"\n              name=\"collegeId\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.collegeId}\n            >\n              {this.state.formValues.colleges.map(college => {\n                return <option value={college.id}>{college.name}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* {Courses} */}\n          <FieldWithElement\n            name={\"Branch / Course\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"branch_courses\"\n              name=\"branchId\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.branchId}\n            >\n              {this.state.formValues.branches.map(branch => {\n                return <option value={branch.id}>{branch.name}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* graduation year */}\n          <FieldWithElement\n            name={\"Graduation Year\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"grad_year\"\n              name=\"gradYear\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.gradYear}\n            >\n              {this.state.formValues.gradYear.map(year => {\n                return <option value={year}>{year}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* email */}\n          <FieldWithElement\n            name={\"Email\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <input\n              type=\"text\"\n              className={\"input-text icon mail-bg\"}\n              placeholder=\"Email Address\"\n              name=\"email\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.email}\n            />\n          </FieldWithElement>\n\n          <div className={\"d-flex justify-content-center\"}>\n            <button\n              id=\"search\"\n              className={\"button-solid ml-4 mb-2 mt-4 pl-5 pr-5\"}\n              onClick={this.handleSubmit}\n            >\n              Create User\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddUser;\n"],"mappings":"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","sourceRoot":""}