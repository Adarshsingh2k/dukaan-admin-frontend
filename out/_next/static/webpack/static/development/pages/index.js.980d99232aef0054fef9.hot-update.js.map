{"version":3,"file":"static/webpack/static/development/pages/index.js.980d99232aef0054fef9.hot-update.js","sources":["webpack:///./components/AddUser.js"],"sourcesContent":["import React from \"react\";\nimport FieldWithElement from \"./FieldWithElement\";\nimport \"../styles/pages/admin/coupons.scss\";\nimport axios from \"axios\";\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      colleges: [],\n      branches: [],\n      gradYear: [],\n      countries: [],\n      formValues: {\n        username: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        gender: \"\",\n        dial_code: \"\",\n        collegeId: \"\",\n        branchId: \"\",\n        mobile_number: \"\",\n        email: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([\n      axios.get(\"http://localhost:2929/api/v2/admin/resources/demographics\", {\n        headers: {\n          \"dukaan-token\":\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImNsaWVudE5hbWUiOiJvbmxpbmVDYiIsIm9uZWF1dGhJZCI6MTQ1OSwicHJvZHVjdElkIjoxNTYsInF1YW50aXR5IjoxfSwiaWF0IjoxNTYwMjQwNzkwfQ.x6pSdQA2bQndnnMoxSgwn6GdKiPmm82E8AE2BPIPRRQ\"\n        }\n      }),\n      axios.get(\"http://localhost:2929/api/v2/admin/resources/countries\", {\n        headers: {\n          \"dukaan-token\":\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImNsaWVudE5hbWUiOiJvbmxpbmVDYiIsIm9uZWF1dGhJZCI6MTQ1OSwicHJvZHVjdElkIjoxNTYsInF1YW50aXR5IjoxfSwiaWF0IjoxNTYwMjQwNzkwfQ.x6pSdQA2bQndnnMoxSgwn6GdKiPmm82E8AE2BPIPRRQ\"\n        }\n      })\n    ]).then(([res1, res2]) => {\n      console.log(res2.data);\n      this.setState({\n        colleges: res1.data.colleges,\n        branches: res1.data.branches,\n        countries: res2.data\n      });\n    });\n\n    let gradYear = [];\n    for (let i = 2026; i >= 2000; i--) {\n      gradYear.push(i.toString());\n    }\n    this.setState({\n      gradYear\n    });\n  }\n\n  onChangeValue = e => {\n    let newFormValues = this.state.formValues;\n    newFormValues[e.target.name] = e.target.value;\n    this.setState({\n      formValues: newFormValues\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    const data = this.state.formValues;\n\n    var formBody = [];\n    for (var property in data) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(data[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n    formBody = formBody.join(\"&\");\n\n    const response = await axios.post(\n      \"http://localhost:2929/api/v2/admin/users\",\n      formBody,\n      {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n          \"dukaan-token\":\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImNsaWVudE5hbWUiOiJvbmxpbmVDYiIsIm9uZWF1dGhJZCI6MTQ1OSwicHJvZHVjdElkIjoxNTYsInF1YW50aXR5IjoxfSwiaWF0IjoxNTYwMjQwNzkwfQ.x6pSdQA2bQndnnMoxSgwn6GdKiPmm82E8AE2BPIPRRQ\"\n        }\n      }\n    );\n    console.log(response);\n    this.setState({\n      formValues: {}\n    });\n  };\n\n  render() {\n    return (\n      <div className={\"d-flex align-items-center col-md-8\"}>\n        <div className={\"border-card coupon-card \"}>\n          {/* Title */}\n          <div className={\"d-flex justify-content-center mt-1 pb-3\"}>\n            <h2 className={\"title red\"}>Create User</h2>\n          </div>\n\n          {/* username */}\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Username\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon user-bg\"}\n              placeholder=\"Username\"\n              name={\"username\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.username}\n            />\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Firstname\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon lines-bg\"}\n              placeholder=\"First Name\"\n              name={\"firstname\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.firstname}\n            />\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Lastname\"}>\n            <input\n              type=\"text\"\n              className={\"input-text icon lines-bg\"}\n              placeholder=\"Last Name\"\n              name={\"lastname\"}\n              onChange={this.onChangeValue}\n              value={this.state.formValues.lastname}\n            />\n          </FieldWithElement>\n\n          {/* gender */}\n          <FieldWithElement\n            name={\"Gender\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"gender\"\n              name=\"gender\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.gender}\n            >\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n              <option value=\"undisclosed\" selected>\n                Undisclosed\n              </option>\n            </select>\n          </FieldWithElement>\n\n          {/* code */}\n          <FieldWithElement\n            name={\"Dial Code\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4 \"}\n          >\n            <select\n              id=\"dial_code\"\n              name=\"dial_code\"\n              onChange={this.onChangeValue}\n            >\n              {this.state.countries.map(country => {\n                return (\n                  <option value={country.dial_code}>\n                    {country.name} {`(${country.dial_code})`}\n                  </option>\n                );\n              })}\n            </select>\n          </FieldWithElement>\n\n          <FieldWithElement nameCols={3} elementCols={9} name={\"Mobile Number\"}>\n            <input\n              type=\"text\"\n              className={\"input-text\"}\n              placeholder=\"Mobile Number\"\n              name={\"mobile_number\"}\n              onChange={this.onChangeValue}\n              style={{ backgroundColor: \"#f6f6f6\" }}\n              value={this.state.formValues.mobile_number}\n            />\n          </FieldWithElement>\n\n          {/* Colleges */}\n          <FieldWithElement\n            name={\"College\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"college\"\n              name=\"collegeId\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.collegeId}\n            >\n              {this.state.colleges.map(college => {\n                return <option value={college.id}>{college.name}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* {Courses} */}\n          <FieldWithElement\n            name={\"Branch / Course\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"branch_courses\"\n              name=\"branchId\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.branchId}\n            >\n              {this.state.branches.map(branch => {\n                return <option value={branch.id}>{branch.name}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* graduation year */}\n          <FieldWithElement\n            name={\"Graduation Year\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <select\n              id=\"grad_year\"\n              name=\"gradYear\"\n              onChange={this.onChangeValue}\n            >\n              {this.state.gradYear.map(year => {\n                return <option value={year}>{year}</option>;\n              })}\n            </select>\n          </FieldWithElement>\n\n          {/* email */}\n          <FieldWithElement\n            name={\"Email\"}\n            nameCols={3}\n            elementCols={9}\n            elementClassName={\"pl-4\"}\n          >\n            <input\n              type=\"text\"\n              className={\"input-text icon mail-bg\"}\n              placeholder=\"Email Address\"\n              name=\"email\"\n              onChange={this.onChangeValue}\n              value={this.state.formValues.email}\n            />\n          </FieldWithElement>\n\n          <div className={\"d-flex justify-content-center\"}>\n            <button\n              id=\"search\"\n              className={\"button-solid ml-4 mb-2 mt-4 pl-5 pr-5\"}\n              onClick={this.handleSubmit}\n            >\n              Create User\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddUser;\n"],"mappings":"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","sourceRoot":""}